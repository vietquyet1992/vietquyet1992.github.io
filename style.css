/* ------------------------------------------------------------------- */
/* 1. HIỆU ỨNG NỀN VÀ FONT */
/* ------------------------------------------------------------------- */
body {
    /* FIX FONT: Thêm font dự phòng (Roboto, Arial) hỗ trợ Tiếng Việt tốt hơn */
    font-family: 'Inter', Roboto, Arial, sans-serif; 
    /* Nền sáng MẶC ĐỊNH */
    background: linear-gradient(120deg, #fffbeb 0%, #fff7ed 100%);
    background-size: 400% 400%;
    animation: gradientBG 20s ease infinite;
    transition: background 0.5s ease;
}

/* FIX NỀN TỐI (THEO Ý TƯỞNG 1: CỰC QUANG) */
html.dark body {
     /* * Đây là nền cực quang (Aurora)
      * Con dùng 2 vệt màu (gradient) tím và xanh mờ, hòa vào nền than chì
      * Con dùng 'background' (thay vì 'background-color') để đè nền gradient của chế độ Sáng
      */
     background: radial-gradient(at 30% 20%, hsla(263, 67%, 35%, 0.3) 0px, transparent 50%),
                 radial-gradient(at 70% 80%, hsla(219, 67%, 32%, 0.3) 0px, transparent 50%),
                 #111827; /* Nền than chì cơ bản */
     
     background-attachment: fixed; /* Giữ nền đứng yên khi cuộn trang */
     
     /* SỬA LỖI QUAN TRỌNG: Tắt animation của chế độ Sáng đi */
     animation: none;
}

@keyframes gradientBG {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* ------------------------------------------------------------------- */
/* 2. HIỆU ỨNG GLASS MORPHISM */
/* ------------------------------------------------------------------- */
.glass-effect {
    background: rgba(255, 255, 255, 0.6);
    border-radius: 16px;
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.8);
}
/* FIX CÚ PHÁP LỖI GLASS TỐI: Cần dùng html.dark để CSS áp dụng */
html.dark .glass-effect {
    /* Tăng độ đục và viền sáng hơn để nổi bật trên nền tối */
    background: rgba(30, 41, 59, 0.6);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

/* ------------------------------------------------------------------- */
/* 3. HIỆU ỨNG HOVER & NAVIGATION */
/* ------------------------------------------------------------------- */
.tool-card:hover, .app-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.1);
}
.nav-link.active {
    background-color: #f59e0b;
    color: white;
    box-shadow: 0 4px 14px 0 rgba(245, 158, 11, 0.3);
}

/* ------------------------------------------------------------------- */
/* 4. CẤU TRÚC VÀ CUỘN (SCROLL) */
/* ------------------------------------------------------------------- */
main { display: grid; }
.tool-content { grid-area: 1 / 1; transition: opacity 0.4s ease-in-out; }

::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { 
    background-color: rgba(245, 158, 11, 0.5); 
    border-radius: 10px; 
    border: 3px solid transparent; 
    background-clip: content-box; 
}
.dark ::-webkit-scrollbar-thumb { background-color: rgba(245, 158, 11, 0.5); }

/* ------------------------------------------------------------------- */
/* 5. LOADER ANIMATION */
/* ------------------------------------------------------------------- */
.loader {
    border: 4px solid rgba(0,0,0,0.1);
    border-top: 4px solid #f59e0b;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    animation: spin 1s linear infinite;
}
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* ------------------------------------------------------------------- */
/* 7. TINH CHỈNH MÀU SẮC RIÊNG CHO MÀN HÌNH LỚN (Desktop) - FIX NỀN SÁNG NHỢT NHẠT */
/* ------------------------------------------------------------------- */
@media (min-width: 1024px) { /* Áp dụng từ kích thước màn hình LỚN (lg) trở lên */
    body:not(.dark) { /* Khi KHÔNG ở chế độ tối (tức là chế độ sáng) */
        /* Giữ nguyên như lần trước */
        background: linear-gradient(120deg, #fefce8 0%, #fff7e5 100%);
        background-size: 400% 400%;
    }
}
/* ------------------------------------------------------------------- */
/* 8. TỐI ƯU MÀU CHỮ TAB CHO MOBILE (Màn hình < 1024px) */
/* ------------------------------------------------------------------- */
@media (max-width: 1023px) { 
    .nav-link {
        /* Tăng cường độ màu chữ trên mobile (Chế độ Sáng) */
        color: #1f2937 !important; /* Ví dụ: Chuyển từ gray-700 sang gray-800 đậm hơn */
    }

    html.dark .nav-link {
        /* Giảm độ nhạt của chữ trên nền tối mobile */
        color: #e5e7eb !important; /* Ví dụ: Chuyển từ gray-300 sang gray-200 sáng hơn */
    }
}