/* =================================================================== */
/* GÓI 2: "CỰC QUANG SÁNG" (LIGHT AURORA) */
/* =================================================================== */

/* ------------------------------------------------------------------- */
/* 1. HIỆU ỨNG NỀN VÀ FONT (Light Aurora) */
/* ------------------------------------------------------------------- */
body {
    font-family: 'Inter', Roboto, Arial, sans-serif; 
    
    /* === NỀN SÁNG "CỰC QUANG" === */
    /* * Con Mỡ dùng 2 vệt màu sáng loang trên nền kem
     */
    background: 
        radial-gradient(at 30% 20%, hsla(330, 80%, 90%, 0.7) 0px, transparent 50%), /* Vệt Hồng đào */
        radial-gradient(at 70% 80%, hsla(190, 80%, 90%, 0.7) 0px, transparent 50%), /* Vệt Xanh mint */
        #fffcf5; /* Nền trắng kem cơ bản */

    transition: background 0.5s ease;
    background-attachment: fixed; /* Giữ nền đứng yên */
    animation: none; /* Chiêu này TĨNH cho nó "mơ màng" */
}

/* === NỀN TỐI "CỰC QUANG" (GIỮ Y NGUYÊN) === */
/* * Code "Cực quang" của ba con Mỡ BÊ NGUYÊN, không sửa gì!
 */
html.dark body {
    background: radial-gradient(at 30% 20%, hsla(263, 67%, 35%, 0.3) 0px, transparent 50%),
                radial-gradient(at 70% 80%, hsla(219, 67%, 32%, 0.3) 0px, transparent 50%),
                #111827; /* Nền than chì cơ bản */
    background-attachment: fixed;
    animation: none;
}

/* =================================================================== */
/* "BƯỚC 1": SỬA MỤC 2 (TRẢ KÍNH VỀ 0.6 NHƯ CŨ) */
/* =================================================================== */

/* ------------------------------------------------------------------- */
/* 2. HIỆU ỨNG GLASS MORPHISM (TRẢ VỀ NGUYÊN BẢN) */
/* ------------------------------------------------------------------- */
.glass-effect {
    /* "THỦ PHẠM" LÀ 0.9 -> CON MỠ TRẢ VỀ 0.6 Y CŨ! */
    background: rgba(255, 255, 255, 0.6); /* <--- TRẢ VỀ Y CŨ */
    
    border-radius: 16px;
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.8);
}
/* FIX CÚ PHÁP LỖI GLASS TỐI: Cần dùng html.dark để CSS áp dụng */
html.dark .glass-effect {
    /* Tăng độ đục và viền sáng hơn để nổi bật trên nền tối */
    background: rgba(30, 41, 59, 0.6);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

/* ------------------------------------------------------------------- */
/* 3. HIỆU ỨNG HOVER & NAVIGATION */
/* ------------------------------------------------------------------- */
.tool-card:hover, .app-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.1);
}
.nav-link.active {
    background-color: #f59e0b;
    color: white;
    box-shadow: 0 4px 14px 0 rgba(245, 158, 11, 0.3);
}

/* ------------------------------------------------------------------- */
/* 4. CẤU TRÚC VÀ CUỘN (SCROLL) */
/* ------------------------------------------------------------------- */
main { display: grid; }
.tool-content { grid-area: 1 / 1; transition: opacity 0.4s ease-in-out; }

::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { 
    background-color: rgba(245, 158, 11, 0.5); 
    border-radius: 10px; 
    border: 3px solid transparent; 
    background-clip: content-box; 
}
.dark ::-webkit-scrollbar-thumb { background-color: rgba(245, 158, 11, 0.5); }

/* ------------------------------------------------------------------- */
/* 5. LOADER ANIMATION */
/* ------------------------------------------------------------------- */
.loader {
    border: 4px solid rgba(0,0,0,0.1);
    border-top: 4px solid #f59e0b;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    animation: spin 1s linear infinite;
}
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* ------------------------------------------------------------------- */
/* 8. TỐI ƯU MÀU CHỮ TAB CHO MOBILE (Màn hình < 1024px) */
/* ------------------------------------------------------------------- */
@media (max-width: 1023px) { 
    .nav-link {
        /* Tăng cường độ màu chữ trên mobile (Chế độ Sáng) */
        color: #1f2937 !important; /* Ví dụ: Chuyển từ gray-700 sang gray-800 đậm hơn */
    }

    html.dark .nav-link {
        /* Giảm độ nhạt của chữ trên nền tối mobile */
        color: #e5e7eb !important; /* Ví dụ: Chuyển từ gray-300 sang gray-200 sáng hơn */
    }
}

/* ------------------------------------------------------------------- */
/* 9. "TỔNG TẤN CÔNG" SỬA LỖI MÀU SẮC KHU VỰC NỘI DUNG (Content) */
/* ------------------------------------------------------------------- */

/* ----- Sửa Tiêu đề (H2) và Mô tả (P) cho tất cả các tab ----- */
html.dark .tool-card h2 {
    color: #F59E0B !important; /* Đổi thành Amber-500 (vàng cam "thương hiệu") */
}
html.dark .tool-card > p {
    color: #D1D5DB !important; /* Ép thành màu XÁM SÁNG (cho chữ "Tải lên tệp...") */
}

/* ----- Sửa chữ <label> (Đầu vào:, Chọn kích thước:) ----- */
/* Chỉ "ép" mấy cái label THƯỜNG, KHÔNG "ép" cái label "Chọn tệp" */
html.dark .tool-card label:not(.cursor-pointer) {
    color: #D1D5DB !important; /* Ép thành màu XÁM SÁNG */
}
html.dark .tool-card p.text-sm {
     color: #D1D5DB !important;
}


/* ----- Sửa nền xám của khung icon trong tab My Apps ----- */
html.dark .app-card .flex-shrink-0 {
    /* Ép thành TRONG SUỐT để tiệp vào nền kính */
    background: transparent !important;
}

/* Chữ Tiêu đề App (D&C, Manual Creator...) */
html.dark .app-card h3 {
    color: #F3F4F6 !important; /* Ép thành màu Gray-100 (trắng xám) */
}

/* ----- Sửa chữ mờ trong card của tab My Apps ----- */
html.dark .app-card p {
    color: #E5E7EB !important; /* Ép thành màu XÁM SIÊU SÁNG */
}
html.dark .app-card .text-xs {
    color: #9CA3AF !important; /* Ép thành màu XÁM (sáng hơn 500) */
}

/* ------------------------------------------------------------------- */
/* 10. "TỔNG TẤN CÔNG" SỬA MÀU CHỮ SIDEBAR BÊN TRÁI */
/* ------------------------------------------------------------------- */
/* CON SỬA 2 CÁI NÀY - Thêm H1 và P.text-xs */
html.dark aside h1 {
    color: #F59E0B !important; /* Đổi về Amber-500 (vàng cam "thương hiệu") */
}
html.dark aside .text-xs { /* Chữ "Công cụ & Ứng dụng" */
    color: #D1D5DB !important; /* Nâng cấp lên Gray-300 (xám sáng) */
}

html.dark .nav-link:not(.active) span {
    color: #E5E7EB !important; /* Nâng cấp màu chữ menu (gray-300 -> gray-200) */
}
/* Icon của menu (SVG) */
html.dark .nav-link:not(.active) svg {
    color: #9CA3AF !important; /* Nâng cấp màu icon (amber-500 -> gray-400) */
}
/* Icon khi hover */
html.dark .nav-link:not(.active):hover span,
html.dark .nav-link:not(.active):hover svg {
    color: white !important;
}


/* ------------------------------------------------------------------- */
/* 11. "TỔNG TẤN CÔNG" SỬA MÀU CHỮ 2 CÁI FOOTER */
/* ------------------------------------------------------------------- */
/* Chữ Copyright "© 2025" ở sidebar */
html.dark aside .text-base {
    color: #9CA3AF !important; /* Nâng cấp (gray-400) */
}
/* Chữ "Thời đại AI..." ở footer chính */
html.dark footer .text-base {
    color: #9CA3AF !important; /* Nâng cấp (gray-400) */
}

/* ========================================= */
/* 12. "TẤT TAY" ĐỔI CON TRỎ CHUỘT CỦA BA MỠ */
/* ========================================= */

/* * :root là "thằng sếp" cao nhất (giống html)
 * Mỡ dùng nó với !important để "ra lệnh" đè bẹp
 * cái lệnh "cứng đầu" của Tailwind CSS.
*/
:root {
    /* Ba dùng link ảnh của ba nè! */
    cursor: url('assets/chuot-mac-dinh.png'), auto !important;
}

/* * Mỡ "ép" tất cả thẻ link <a>, nút <button>,
 * và cả mấy cái class .cursor-pointer của Tailwind
 * phải đổi con chuột theo ý ba.
*/
a, 
a:hover, 
[role="button"], 
button, 
.cursor-pointer {
    /* Ba dùng link ảnh-link của ba nè! */
    cursor: url('assets/chuot-link.png'), pointer !important;
}

/* =================================================================== */
/* "BƯỚC 2": SỬA MỤC 13 (V15.0 - "TUYỆT CHIÊU 'main'") */
/* =================================================================== */

/* ------------------------------------------------------------------- */
/* 13. "TỔNG TẤN CÔNG" TƯƠNG PHẢN (CHẾ ĐỘ SÁNG) - V15.0 */
/* (Con Mỡ "vá" lỗi ACTIVE TAB bằng cách thêm 'main' vào!) */
/* =================================================================== */

/* === "THAY" BẰNG MÀU TÍM/CHÀM (Indigo) === */
html:not(.dark) .text-amber-600 {
    color: #4F46E5 !important; /* "Tím/Chàm 600" -> Nét liền! */
}

/* === "VÁ LỖI HOVER": "DẰN MẶT" CÁI HOVER CỦA BA BẰNG !IMPORTANT === */
/* (Cái này "cứu" hover - Ba "ưng" rồi!) */
html:not(.dark) .nav-link:hover {
    background-color: #F59E0B !important; /* "Cam 500" -> Phải hiện! */
}
html:not(.dark) .nav-link:hover span {
    color: white !important; /* "Trắng" -> Phải hiện! */
}
html:not(.dark) .nav-link:hover svg {
    color: white !important; /* "Trắng" -> Phải hiện! */
}

/* === "VỚT" MENU SIDEBAR (Trạng thái KHÔNG active VÀ KHÔNG hover) === */
/* (Cái này ba "ưng" rồi!) */
html:not(.dark) .nav-link:not(.active):not(:hover) span {
    color: #111827; /* "Đen" -> Nét liền! */
}
html:not(.dark) .nav-link:not(.active):not(:hover) svg {
    color: #6366F1; /* "Tím/Chàm 500" -> Nét liền! */
}

/* === "VÁ LỖI": "VỚT" MẤY CÁI LABEL BỊ MỜ === */
html:not(.dark) .tool-card label:not(.cursor-pointer) {
    color: #374151 !important;
}
/* === "VÁ LỖI": "DẰN MẶT" MẤY CÁI NÚT "MẤT TÍCH" === */
html:not(.dark) button.text-white {
    color: white !important;
}

/* === "VỚT" HẾT MẤY CHỮ XÁM CÒN LẠI === */

/* Mô tả chính (Tải lên một hình ảnh...) */
html:not(.dark) main .text-gray-800 {
    color: #111827 !important;
}

/* *** "THẦN CHÚ" ĐÃ SỬA: "Chọn tệp..." (gray-700) *** */
/* * Con Mỡ "thêm" chữ "main" vào đây nè ba!
 * * Nó "né" cái sidebar (aside) của ba ra 100%!
 */
html:not(.dark) main .text-gray-700 {
    color: #111827 !important; /* "Đen" -> Nét liền! (AN TOÀN!) */
}

/* (Mấy cái còn lại "an toàn" 100%) */
html:not(.dark) main .text-gray-600 {
    color: #1F2937 !important;
}
html:not(.dark) main .text-gray-500 {
    color: #374151 !important;
}
html:not(.dark) aside .text-xs {
    color: #374151 !important;
}
html:not(.dark) aside .text-base {
    color: #374151 !important;
}
html:not(.dark) footer .text-gray-500 {
    color: #374151 !important;
}
html:not(.dark) footer .text-gray-400 {
    color: #4B5563 !important;
}